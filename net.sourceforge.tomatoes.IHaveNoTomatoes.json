{
  "app-id": "net.sourceforge.tomatoes.IHaveNoTomatoes",
  "default-branch": "stable",
  "runtime": "org.freedesktop.Platform",
  "runtime-version": "22.08",
  "sdk": "org.freedesktop.Sdk",
  "command": "tomatoes",
  "cleanup": ["/include", "*.a", "*.la"],
  "finish-args": ["--socket=x11", "--socket=pulseaudio", "--device=dri"],
  "modules": [
    {
      "name": "libglu",
      "buildsystem": "meson",
      "sources": [
        {
          "type": "archive",
          "url": "ftp://ftp.freedesktop.org/pub/mesa/glu/glu-9.0.2.tar.xz",
          "sha256": "6e7280ff585c6a1d9dfcdf2fca489251634b3377bfc33c29e4002466a38d02d4"
        }
      ]
    },
    {
      "name": "sdl12-compat",
      "buildsystem": "cmake",
      "sources": [
        {
          "type": "git",
          "url": "https://github.com/libsdl-org/sdl12-compat.git",
          "tag": "release-1.2.52",
          "commit": "030111ab691581d2eb0cd44586d69a4398185560"
        }
      ]
    },
    {
      "name": "sdl_image",
      "buildsystem": "autotools",
      "sources": [
        {
          "type": "archive",
          "url": "https://sourceforge.net/projects/libsdl/files/SDL_image/1.2.12/SDL_image-1.2.12.tar.gz",
          "sha256": "0b90722984561004de84847744d566809dbb9daf732a9e503b91a1b5a84e5699"
        }
      ]
    },
    {
      "name": "libmikmod-2",
      "buildsystem": "autotools",
      "sources": [
        {
          "type": "archive",
          "url": "https://sourceforge.net/projects/mikmod/files/libmikmod/3.1.21.1/libmikmod-3.1.21.1.tar.gz",
          "sha256": "1a88922b5a67c308899c1d991ddfb62b5d851f8a94175612b33856854938b2fb"
        }
      ]
    },
    {
      "name": "sdl_mixer",
      "buildsystem": "autotools",
      "sources": [
        {
          "type": "archive",
          "url": "https://sourceforge.net/projects/libsdl/files/SDL_mixer/1.2.12/SDL_mixer-1.2.12.tar.gz",
          "sha256": "1644308279a975799049e4826af2cfc787cad2abb11aa14562e402521f86992a"
        }
      ]
    },
    {
      "name": "tomatoes-data",
      "buildsystem": "simple",
      "build-commands": [
        "mkdir -p /app/share/tomatoes/",
        "cp -r config.cfg music tomatoes.mpk /app/share/tomatoes/"
      ],
      "sources": [
        {
          "type": "archive",
          "url": "https://downloads.sourceforge.net/tomatoes/tomatoes-linux-1.5.tar.bz2",
          "sha256": "69a3af1994cb58409be9b469e1aa4bdb91c405d99071c7431526640ec53d1300"
        }
      ]
    },
    {
      "name": "tomatoes",
      "buildsystem": "simple",
      "build-commands": ["make", "cp tomatoes /app/bin/"],
      "config-opts": ["-DCMAKE_BUILD_TYPE=Release"],
      "sources": [
        {
          "type": "archive",
          "url": "https://downloads.sourceforge.net/tomatoes/tomatoes-linux-src-1.55.tar.bz2",
          "sha256": "126d001532ee5b81cc95e1a86a274d11669b8c8f65c8235ae2e9b8fbdfab4a60"
        },
        {
          "type": "patch",
          "path": "patches/0001-tomatoes-1.55-makefile-compile-flags.patch",
          "__sourced_from": "https://aur.archlinux.org/cgit/aur.git/tree/0001-tomatoes-1.55-makefile-compile-flags.patch"
        },
        {
          "type": "patch",
          "path": "patches/0002-tomatoes-1.55-Quell-const-char-conversion-warnings.patch",
          "__sourced_from": "https://aur.archlinux.org/cgit/aur.git/tree/0002-tomatoes-1.55-Quell-const-char-conversion-warnings.patch"
        },
        {
          "type": "patch",
          "path": "patches/0003-tomatoes-1.55-config-hiscore-file-saving-loading.patch",
          "__sourced_from": "https://aur.archlinux.org/cgit/aur.git/tree/0003-tomatoes-1.55-config-hiscore-file-saving-loading.patch"
        },
        {
          "type": "patch",
          "path": "patches/0004-fix_asset_paths.patch"
        },
        {
          "type": "patch",
          "path": "patches/0005-fix_writable_paths.patch"
        }
      ]
    }
  ]
}
